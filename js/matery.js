"use strict";$(function(){function t(t,e){0!==(t=$("#"+t)).length&&(t=t.width(),t+=450<=t?21:350<=t&&t<450?18:300<=t&&t<350?16:14,$("#"+e).width(t))}function e(){t("navContainer"),t("artDetail","prenext-posts"),$(".content").css("min-height",window.innerHeight-165)}a="animated pulse",$("article .article").hover(function(){$(this).addClass(a)},function(){$(this).removeClass(a)}),$(".sidenav").sidenav(),e(),$(window).resize(function(){e()}),$("#articles").masonry({itemSelector:".article"}),AOS.init({easing:"ease-in-out-sine",duration:700,delay:100});$("#articleContent a").attr("target","_blank"),$("#articleContent img").each(function(){var t=$(this).attr("src"),t=($(this).wrap('<div class="img-item" data-src="'+t+'" data-sub-html=".caption"></div>'),$(this).addClass("img-shadow img-margin"),$(this).attr("alt")),e=$(this).attr("title"),a="";void 0===t||""===t?void 0!==e&&""!==e&&(a=e):a=t,""!==a&&((e=document.createElement("div")).className="caption",(t=document.createElement("b")).className="center-caption",t.innerText=a,e.appendChild(t),this.insertAdjacentElement("afterend",e))}),$("#articleContent, #myGallery").lightGallery({selector:".img-item",subHtmlSelectorRelative:!0}),$(document).find("img[data-original]").each(function(){$(this).parent().attr("href",$(this).attr("data-original"))}),(n=window.document.querySelector(".progress-bar"))&&new ScrollProgress(function(t,e){n.style.width=100*e+"%"}),$(".modal").modal(),$("#backTop").click(function(){return $("body,html").animate({scrollTop:0},400),!1});var a,n,i=$("#headNav"),s=$(".top-scroll");function o(t){t<100?(i.addClass("nav-transparent"),s.slideUp(300)):(i.removeClass("nav-transparent"),s.slideDown(300))}o($(window).scrollTop()),$(window).scroll(function(){o($(window).scrollTop())}),$(".nav-menu>li").hover(function(){$(this).children("ul").stop(!0,!0).show(),$(this).addClass("nav-show").siblings("li").removeClass("nav-show")},function(){$(this).children("ul").stop(!0,!0).hide(),$(".nav-item.nav-show").removeClass("nav-show")}),$(".m-nav-item>a").on("click",function(){"none"==$(this).next("ul").css("display")?($(".m-nav-item").children("ul").slideUp(300),$(this).next("ul").slideDown(100),$(this).parent("li").addClass("m-nav-show").siblings("li").removeClass("m-nav-show")):($(this).next("ul").slideUp(100),$(".m-nav-item.m-nav-show").removeClass("m-nav-show"))}),$(".tooltipped").tooltip(),"1"===localStorage.getItem("dark")?document.body.classList.add("dark"):20<=(new Date).getHours()||(new Date).getHours()<6||matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark"),setTimeout(function(){(19<=(new Date).getHours()||(new Date).getHours()<7)&&!$("body").hasClass("DarkMode")&&M.toast({html:'<span style="color:#97b8b2;border-radius: 10px;><i class="fa fa-bell" aria-hidden="true"></i>晚上使用深色模式阅读更好哦。(ﾟ▽ﾟ)/</span>'})},2200)});